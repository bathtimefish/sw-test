<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Service Workers Test</title>
        <!-- Include manifest file in the page -->
        <link rel="manifest" href="manifest.json">
    </head>
    <body>
        <h1>Basic</h1>
        <p><a href="https://googlechrome.github.io/samples/service-worker/basic/index.html">Basic</a>のパクり</p>
        <p>結果: 成功 </p>
        <p>worldをクリックすると!をつけたレスポンスが返る。Clevelandをクリックすると!!!をつけたレスポンスが返る。</p>
        <div>
            <button onclick="basic()">Register</button>
            <button onclick="unregister()">Unregister</button>
        </div>
        <p>Some nice places to visit:</p>
        <ul>
            <li><a href="hello/world">world</a>
            <li><a href="hello/Cleveland">Cleveland</a>
        </ul>
        <hr>
        <h1>jQuery in Worker</h1>
        <p>結果: 失敗</p>
        <p>register時、DOMExceptionとなる。documentオブジェクトがないためか？</p>
        <div>
            <button onclick="jq()">Register</button>
            <button onclick="unregister()">Unregister</button>
        </div>
        <p>Some nice places to visit:</p>
        <ul>
            <li><a href="jq/">import jQuery</a>
        </ul>
        <hr>
        <h1>Moment.js in Worker</h1>
        <p>結果: 成功</p>
        <p>documentとかnavigatorとかのメソッド使ってないライブラリなら普通に使えそう。当たり前か。</p>
        <p>window.Date はworker内で self.Date として使える。window関数はselfとして使えると考えてよいか。</p>
        <div>
            <button onclick="moment()">Register</button>
            <button onclick="unregister()">Unregister</button>
        </div>
        <p>Some nice places to visit:</p>
        <ul>
            <li><a href="moment/">import Moment</a>
        </ul>
        <hr>
        <h1>Push Notification</h1>
        <p>結果: </p>
        <p></p>
        <p></p>
        <div>
            <button onclick="request_push_permission()">Request Permission</button>
            <button onclick="push()">Register</button>
            <button onclick="unregister()">Unregister</button>
        </div>
        <div id="curl"></div>

        <script src="index.js"></script>
    </body>
</html>
